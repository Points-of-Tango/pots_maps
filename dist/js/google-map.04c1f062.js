"use strict";(self["webpackChunkpost_maps"]=self["webpackChunkpost_maps"]||[]).push([[939],{92022:(t,n,o)=>{o.r(n),o.d(n,{default:()=>s});var e=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{attrs:{id:"map"}},[o("GmapMap",{ref:"mapRef",staticStyle:{width:"100%",height:"500px"},attrs:{id:"mapId",center:t.center,zoom:t.zoomLevel}},[t._l(t.markers,(function(n,e){return o("gmap-marker",{key:e,ref:"marker",refInFor:!0,attrs:{position:n,clickable:!0},on:{click:function(o){return t.toggleInfoWindow(n,e)}}})})),o("gmap-info-window",{ref:"infoWindow",attrs:{options:t.infoOptions,position:t.infoWindowPos,opened:t.infoWindowOpen},on:{closeclick:function(n){t.infoWindowOpen=!1}}})],2)],1)},i=[];o(89554),o(41539),o(54747),o(68309),o(92222);const c={name:"GoogleMap",props:{location:{required:!0,type:Array,default:function(){return[]}}},data:function(){return{organizer:"",infoOptions:{content:"",pixelOffset:{width:0,height:0}},currentMidx:null,infoWindowPos:null,infoWindowOpen:!1,center:{lat:51.5060031,lng:-.1003099},markers:[],address:[],currentPlace:null,zoomLevel:11}},watch:{location:function(t,n){this.markers=[],this.populateMap()}},mounted:function(){var t=this;this.$refs.mapRef.$mapPromise.then((function(n){t.markers=[],t.location.forEach((function(o){void 0!==o.location&&"Events"===o.section?(n.panTo({lat:o.location.latitude,lng:o.location.longitude}),t.center={lat:o.location.latitude,lng:o.location.longitude},t.markers.push({lat:o.location.latitude,lng:o.location.longitude,name:o.name,cancelled:o.cancelled,type:o.type,logo:o.logo,organizer:o.organizer,from:o.from,to:o.to,address:o.address,city:o.city,section:o.section})):void 0!==o.location&&"Teachers"===o.section&&(n.panTo({lat:o.location.latitude,lng:o.location.longitude}),t.center={lat:o.location.latitude,lng:o.location.longitude},t.markers.push({lat:o.location.latitude,lng:o.location.longitude,name:o.name,picture:o.picture,city:o.city,postcode:o.postcode,section:o.section,contact:o.contact}))}))}))},methods:{populateMap:function(){var t=this;this.$refs.mapRef.$mapPromise.then((function(n){t.markers=[],t.location.forEach((function(o){void 0!==o.location&&(n.panTo({lat:o.location.latitude,lng:o.location.longitude}),t.center={lat:o.location.latitude,lng:o.location.longitude},t.markers.push({lat:o.location.latitude,lng:o.location.longitude,name:o.name,cancelled:o.cancelled,type:o.type,logo:o.logo,organizer:o.organizer,from:o.from,to:o.to,address:o.address,city:o.city}))}))}))},toggleInfoWindow:function(t,n){this.zoomLevel=13,this.center={lat:t.lat,lng:t.lng},"Events"===t.section?this.infoOptions.content='\n        <div class="card border-0 pr-4">\n          <div class="card-body">\n            <div style="float: left;" class="mr-3">\n              '.concat(void 0===t.logo?"<div/>":"<img src=".concat(t.logo,' width="80" height="80" class="rounded-circle">'),'\n            </div>\n            <div style="float: left;">\n                <h4 ').concat(!1===t.cancelled?"":'class="cancelled text-muted"',">").concat(t.name).concat(!1===t.cancelled?"":" - CANCELLED",'</h4>\n                <p class="font-weight-bold"> ').concat(t.type,'</p>\n                <p class="font-weight-bold">').concat(t.from," - ").concat(t.to,"</p>\n                <h6>").concat(t.organizer,"</h6>\n                <h6>").concat(t.address," - ").concat(t.city,"</h6>\n            </div>\n          </div>\n        </div>\n      "):this.infoOptions.content='\n        <div class="card border-0 pr-4">\n          <div class="card-body">\n            <div style="float: left;" class="mr-3">\n              '.concat(void 0===t.picture?"<div/>":"<img src=".concat(t.picture,' width="80" height="80" class="rounded-circle">'),'\n            </div>\n            <div style="float: left;">\n                <h6 class="font-weight-bold"> ').concat(t.name,'</h6>\n                <p class="font-weight-bold"> <a target="_blank" style="color: white; text-decoration:underline" href="mailto:').concat(t.contact.email,'">').concat(t.contact.email,"</a></p>\n                <p> ").concat(void 0===t.contact.phone?"":t.contact.phone,"</p>\n                <p> ").concat(t.postcode,"</p>\n            </div>\n          </div>\n        </div>\n      "),this.infoWindowPos=t,this.infoWindowOpen=!0,this.currentMidx===n?this.infoWindowOpen=!this.infoWindowOpen:(this.infoWindowOpen=!0,this.currentMidx=n)},setPlace:function(t){this.currentPlace=t},geolocate:function(){var t=this;navigator.geolocation.getCurrentPosition((function(n){t.center={lat:n.coords.latitude,lng:n.coords.longitude}}))}}},a=c;var l=o(1001),r=(0,l.Z)(a,e,i,!1,null,null,null);const s=r.exports}}]);
//# sourceMappingURL=google-map.04c1f062.js.map